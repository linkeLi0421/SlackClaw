# Required
SLACK_BOT_TOKEN=xoxb-your-bot-token
SLACK_APP_TOKEN=xapp-your-app-token
COMMAND_CHANNEL_ID=C0123456789
REPORT_CHANNEL_ID=C0987654321

# Listener mode: socket (default) or poll
LISTENER_MODE=socket
SOCKET_READ_TIMEOUT_SECONDS=1.0
POLL_INTERVAL=3
POLL_BATCH_SIZE=100

# Trigger mode: prefix or mention
TRIGGER_MODE=prefix
TRIGGER_PREFIX=!do
# BOT_USER_ID=U0123456789

# State and execution
STATE_DB_PATH=./state.db
DRY_RUN=true
EXEC_TIMEOUT_SECONDS=120
WORKER_PROCESSES=1
RUN_MODE=approve
REPORT_INPUT_MAX_CHARS=500
REPORT_SUMMARY_MAX_CHARS=1200
REPORT_DETAILS_MAX_CHARS=4000
# Optional: prompt style injected into KIMI/CODEX/CLAUDE requests.
# Set to empty to disable.
AGENT_RESPONSE_INSTRUCTION="Format final answers for Slack Markdown with summary, bullets, and fenced code blocks."

# Approval flow
APPROVAL_MODE=reaction
APPROVE_REACTION=white_check_mark
REJECT_REACTION=x
# Only for shell commands: non-allowlisted commands require reaction approval.
SHELL_ALLOWLIST=echo,printf,pwd,ls,cat,head,tail,wc,grep,rg,find,sed,awk,cut,sort,uniq,date,whoami,uname,env,true,false,cd,python,python3,pip,pip3,pytest,node,npm,yarn,pnpm,go,cargo,make,git,bash,sh,zsh

# Notes:
# - If LISTENER_MODE=poll, set APPROVAL_MODE=none.
# - BOT_USER_ID is required only when TRIGGER_MODE=mention.
# - If RUN_MODE=run, approval is disabled and tasks execute immediately.
# - WORKER_PROCESSES>1 enables parallel task execution.
# - With APPROVAL_MODE=reaction, allowlisted shell commands run directly.
# - Non-shell commands are not blocked by shell allowlist.
# - Simple commands supported in Slack: SHELL, KIMI, CODEX, CLAUDE.
